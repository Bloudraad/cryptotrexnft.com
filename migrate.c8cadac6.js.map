{"mappings":"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","sources":["js/migrate.js"],"sourcesContent":["import os from './contracts/ERC1155Test.json';\nimport ct from './contracts/CryptoTrex.json';\nimport { config } from './config';\nimport { loadWeb3, web3Address, switchChain } from './web3.js';\nimport Web3 from 'web3';\n\nasync function render(address, web3) {\n  const approved = await isApproved(web3, address);\n  console.log(\"approved :\", approved );\n  if (approved) {\n    await renderItems(address, web3);\n  } else {\n    await renderApprovalPrompt();\n  }\n}\n\nasync function batchMigrate(ids) {\n  const web3 = await loadWeb3();\n  const address = await web3Address(web3);\n  const chainId = await web3.eth.getChainId();\n  let tokenIds = [];\n  ids.forEach((id) => {\n    tokenIds.push(web3.utils.toBN(id));\n  });\n  if (tokenIds.length < 1) return;\n  const c = new web3.eth.Contract(ct.abi, config[chainId].migration_address);\n  const batchMigrateBtn = document.getElementById('batchMigrateBtn');\n  c.methods\n    .migrateBatch(tokenIds)\n    .send({ from: address })\n    .on('receipt', () => {\n      batchMigrateBtn.disabled = true; \n      batchMigrateBtn.textContent = 'Migrated';\n      batchMigrateBtn.classList = 'nes-btn is-success';\n    })\n    .on('transactionHash', (hash) => {\n      batchMigrateBtn.textContent = 'Migrating...';\n      batchMigrateBtn.classList = 'nes-btn';\n      batchMigrateBtn.addEventListener('click', () => {\n        window.open(`https://etherscan.io/tx/${hash}`, '_blank').focus();\n      });\n    })\n    .on('error', () => {\n      batchMigrateBtn.disabled = true;\n      batchMigrateBtn.textContent = 'Failed';\n      batchMigrateBtn.classList = 'nes-btn is-error';\n    });\n}\n\nasync function isApproved(web3, address) {\n  const chainId = await web3.eth.getChainId();\n  const osc = new web3.eth.Contract(os.abi, config[chainId].origin_address);\n  return await osc.methods\n    .isApprovedForAll(address, config[chainId].migration_address)\n    .call({ from: address });\n}\n\nasync function approve() {\n  const web3 = await loadWeb3();\n  const address = await web3Address(web3);\n  const chainId = await web3.eth.getChainId();\n  const osc = new web3.eth.Contract(os.abi, config[chainId].origin_address);\n  osc.methods\n    .setApprovalForAll(config[chainId].migration_address, true)\n    .send({ from: address })\n    .on('receipt', () => {\n      const approveBtn = document.getElementById('approveBtn');\n      approveBtn.textContent = 'Approved';\n      approveBtn.disabled = true;\n      approveBtn.classList = 'btn btn-success is-disabled';\n      renderItems(address, web3);\n    })\n    .on('transactionHash', (hash) => {\n      const container = document.getElementById('approvalContainer');\n      const viewTx = document.createElement('a');\n      viewTx.classList = 'btn btn-info';\n      viewTx.href = `https://etherscan.io/tx/${hash}`;\n      viewTx.target = '_blank';\n      viewTx.text = 'View Transaction';\n      container.appendChild(viewTx);\n\n      const approveBtn = document.getElementById('approveBtn');\n      approveBtn.textContent = 'Approving...';\n      approveBtn.disabled = true;\n      approveBtn.classList = 'btn btn-primary';\n    });\n}\n\nasync function migrate(id, btn) {\n  const web3 = await loadWeb3();\n  const address = await web3Address(web3);\n  const chainId = await web3.eth.getChainId();\n  const tokenId = web3.utils.toBN(id);\n // Log the BigNumber value\n  console.log(\"Token ID BigNumber:\", tokenId.toString());\n\n  const c = new web3.eth.Contract(ct.abi, config[chainId].migration_address);\n  c.methods\n    .migrate(tokenId)\n    .send({ from: address })\n    .on('receipt', () => {\n      btn.disabled = true;\n      btn.classList = 'btn btn-success';\n      btn.textContent = 'Migrated';\n    })\n    .on('transactionHash', (hash) => {\n      btn.textContent = 'Migrating...';\n      btn.addEventListener('click', () => {\n        window.open(`https://etherscan.io/tx/${hash}`, '_blank').focus();\n      });\n    })\n    .on('error', () => {\n      btn.disabled = true;\n      btn.textContent = 'Failed';\n      btn.classList = 'btn btn-danger';\n    });\n}\n\nasync function addToken(eth) {\n  const web3 = await loadWeb3();\n  const chainId = await web3.eth.getChainId();\n\n  const tokenAddress = config[chainId].token_address;\n  const tokenSymbol = 'FOSSIL';\n  const tokenDecimals = 18;\n  const tokenImage =\n    'https://gateway.pinata.cloud/ipfs/QmZpPpnuASN7riY1UwVftSMowJAgMbf9x1k9pCaH5buSEQ';\n\n  try {\n    // wasAdded is a boolean. Like any RPC method, an error may be thrown.\n    await eth.request({\n      method: 'wallet_watchAsset',\n      params: {\n        type: 'ERC20', // Initially only supports ERC20, but eventually more!\n        options: {\n          address: tokenAddress, // The address that the token is at.\n          symbol: tokenSymbol, // A ticker symbol or shorthand, up to 5 chars.\n          decimals: tokenDecimals, // The number of decimals in the token\n          image: tokenImage, // A string url of the token logo\n        },\n      },\n    });\n  } catch (error) {\n    console.log(error);\n  }\n}\nlet itemIds = [];\n\nasync function getItems(ownerAddr, baseURL, contractAddr, collectionSlug) {\n  const url = `${baseURL}?owner=${ownerAddr}&contractAddresses[]=${[\n    contractAddr,\n  ]}&collection=${collectionSlug}`;\n   // Log the constructed URL\n  console.log(\"ownerAddr, baseURL, contractAddr, collectionSlug:\", url);\n  const res = await fetch(url);\n  const body = await res.json();\n  return body.ownedNfts.map((d) => {\n    if (d.contract.address.toLowerCase() === contractAddr.toLowerCase()) {\n      return d.id.tokenId;\n    }\n  });\n}\n\nasync function renderApprovalPrompt() {\n  const apprView = document.getElementById('approvalView');\n  const migrView = document.getElementById('migrationView');\n  apprView.hidden = false;\n  migrView.hidden = true;\n\n  const web3 = await loadWeb3();\n  const address = await web3Address(web3);\n  const chainId = await web3.eth.getChainId();\n  const v1 = await getItems(\n    address,\n    config[chainId].alchemy_api,\n    config[chainId].origin_address,\n    config[chainId].collection_slug\n  );\n  \nconsole.log(\"Length of v1 array:\", v1.length);\n  // 1\n  if (v1.length < 1) {\n    const warning = document.getElementById('warningNoTrex');\n    warning.hidden = false;\n  }\n}\n\nasync function renderItems(address, web3) {\n  const apprView = document.getElementById('approvalView');\n  const migrView = document.getElementById('migrationView');\n  apprView.hidden = true;\n  migrView.hidden = false;\n  const chainId = await web3.eth.getChainId();\n\n  const v1 = await getItems(\n    address,\n    config[chainId].alchemy_api,\n    config[chainId].origin_address,\n    config[chainId].collection_slug // Pass collection_slug\n  );\n  const v2 = await getItems(\n    address,\n    config[chainId].alchemy_api,\n    config[chainId].migration_address,\n    config[chainId].collection_slug // Pass collection_slug\n  );\n\n  const list = document.querySelector('#card-list');\n  if (web3.currentProvider.isMetaMask) {\n    const addTokenBtn = document.getElementById('addTokenBtn');\n    addTokenBtn.hidden = false;\n  }\n\nconst chainIdValue = await web3.eth.getChainId(); // Rename chainId to a unique name\nconst originContractAddress = config[chainIdValue].origin_address;\nconst urlV1 = `${config[chainIdValue].opensea_api}/api/v2/chain/ethereum/contract/${originContractAddress}/nfts/`;\nconsole.log(\"Constructed URL for v1:\", urlV1);\n\n\n  if (v1) {\n    if (v1.length < 1)  //< 1\n    {\n      const batchMigrateBtn = document.getElementById('batchMigrateBtn');\n      batchMigrateBtn.textContent = 'Nothing to migrate';\n      batchMigrateBtn.classList = 'btn btn-light is-disabled';\n      batchMigrateBtn.disabled = true;\n    }\n    const c = new web3.eth.Contract(os.abi, config[chainId].origin_address);\n    v1.forEach(async (e) => {\n      const options = {\n        method: 'GET',\n        headers: {\n          accept: 'application/json',\n          'x-api-key': config[chainId].opensea_api_key,\n        },\n      };\n\n      const url = `${config[chainId].opensea_api}/api/v2/chain/ethereum/contract/${config[chainId].origin_address}/nfts/${Web3.utils.toBN(e)}`; //nfts//\n      console.log(\"Constructed URLv1:\", url);\n      console.log(\"Headers:\", options.headers); // Logging headers to check if the API key is included\ntry {\n  const response = await fetch(url, options);\n  const body = await response.json(); // This is where body is defined\n // Log the entire body object to inspect its structure\n  console.log(\"API Response Body:\", body);\n  // The error seems to occur here when trying to access body\n  console.log(\"NFT Image URL:\", nft.image_url); // Log the NFT image URL\n  list.appendChild(buildCard(body, false));\n} catch (error) {\n  console.error(error);\n}  \n    });\n  }\n\n  if (v2) {\n    const options = {\n      method: 'GET',\n      headers: {\n        accept: 'application/json',\n        'x-api-key': config[chainId].opensea_api_key,\n      },\n    };\n\nv2.forEach(async (e) => {\n  const url = `${config[chainId].opensea_api}/api/v2/chain/ethereum/contract/${config[chainId].migration_address}/nfts/${Web3.utils.toBN(e)}`;\n  console.log(\"Constructed URL_v2:\", url);\n  console.log(\"Headers:\", options.headers); // Logging headers to check if the API key is included\ntry {\n  const response = await fetch(url, options);\n  const body = await response.json(); // This is where body is defined\n // Log the entire body object to inspect its structure\n  console.log(\"API Response Body:\", body);\n  // Log the NFT image URL and append to list\n//  console.log(\"NFT Image URL:\", e.nft.image_url); \n  list.appendChild(buildCard(body, true));\n} catch (error) {\n  console.error(error);\n}\n\n});\n  }\n}\n  \nfunction buildCard(e, migrated) {\n/*  // Check the structure of the object 'e'\n  console.log(\"Object 'e':\", e);\n  if (e && e.nft.image_url) {\n    // Access the image_url property if it exists\n    console.log(\"Image URL:\", e.nft.image_url);\n  } else {\n    console.error(\"Image URL not found in object 'e'\");\n  }\n  console.log(\"Building card for:\", e);*/\n  \n  const card = document.createElement('div');\n  card.classList = 'card';\n  card.style = `\n    margin: 4px;\n    background-color: #0a0a0a;\n    color: #fff;\n    border: 1px solid;\n    padding: 24px;\n    border-image-slice: 1;\n    border-image-source: linear-gradient(180deg, #d56730, #d5673041);`;\n  const imageContainer = document.createElement('a');\n  imageContainer.href = e.permalink;\n  imageContainer.target = '_blank';\n  const image = document.createElement('img');\n  image.onload = function() {\n  console.log(\"Image loaded successfully:\", image.src);\n};\n\nimage.onerror = function() {\n  console.error(\"Failed to load image:\", image.src);\n};\n\nimage.crossOrigin = 'anonymous';\nimage.classList = 'card-img-top';\nimageContainer.appendChild(image);\n    image.onload = function() {\n    console.log(\"Image loaded successfully:\", image.src);\n  };\n  image.onerror = function() {\n    console.error(\"Failed to load image:\", image.src);\n  };\n  image.src = e.nft.image_url;\n  image.crossOrigin = 'anonymous';\n  image.classList = 'card-img-top';\n  imageContainer.appendChild(image);\n  const bodyDiv = document.createElement('div');\n  bodyDiv.classList = 'card-body';\n  const nameDiv = document.createElement('h5');\n  nameDiv.classList.add('card-title');\n  nameDiv.textContent = e.name;\n  const migrateBtn = document.createElement('button');\n  migrateBtn.type = 'button';\n\n  if (!migrated) {\n    migrateBtn.classList = 'btn btn-secondary';\n    migrateBtn.style = 'font-weight: 800; width: 100%;';\n    migrateBtn.textContent = 'Migrate';\n  } else {\n    migrateBtn.classList = 'btn btn-light disabled';\n    migrateBtn.disabled = true; //true\n    migrateBtn.style = 'width: 100%';\n    migrateBtn.textContent = 'Migrated';\n  }\n  migrateBtn.addEventListener('click', () => migrate(e.token_id, migrateBtn));\n  card.appendChild(imageContainer);\n  bodyDiv.appendChild(nameDiv);\n  bodyDiv.appendChild(migrateBtn);\n  card.appendChild(bodyDiv);\n\n  const cardContainer = document.createElement('div');\n  cardContainer.classList.add('col-md-3', 'col-xs-6', 'pb-1');\n  cardContainer.appendChild(card);\n\n  return cardContainer;\n}\n\nconst batchMigrateBtn = document.getElementById('batchMigrateBtn');\nbatchMigrateBtn.addEventListener('click', async () => {\n  await batchMigrate(itemIds);\n});\n\nwindow.onload = async () => {\n  try {\n    const web3 = await loadWeb3();\n    const address = await web3Address(web3);\n    switchChain(window.ethereum);\n    render(address, web3);\n  } catch (err) {\n    console.log(err);\n  }\n};\n\nconst addTokenBtn = document.getElementById('addTokenBtn');\naddTokenBtn.addEventListener('click', async () => {\n  await addToken(window.ethereum);\n});\n\nconst approveBtn = document.getElementById('approveBtn');\napproveBtn.addEventListener('click', async () => {\n  await approve();\n});\n"],"names":["$56cd91b74de0ab6d$var$render","address","web3","approved","chainId","eth","getChainId","osc","Contract","$parcel$interopDefault","$cSnus","abi","$71KSP","config","origin_address","methods","isApprovedForAll","migration_address","call","from","$56cd91b74de0ab6d$var$isApproved","console","log","$56cd91b74de0ab6d$var$renderItems","apprView","document","getElementById","migrView","hidden","$7VRcZ","loadWeb3","web3Address","v1","$56cd91b74de0ab6d$var$getItems","alchemy_api","collection_slug","length","$56cd91b74de0ab6d$var$renderApprovalPrompt","$56cd91b74de0ab6d$var$itemIds","ownerAddr","baseURL","contractAddr","collectionSlug","url","res","fetch","json","ownedNfts","map","d","contract","toLowerCase","id","tokenId","v2","list","querySelector","currentProvider","isMetaMask","chainIdValue","originContractAddress","urlV1","opensea_api","batchMigrateBtn","textContent","classList","disabled","forEach","async","e","options","method","headers","accept","opensea_api_key","$6LYZy","utils","toBN","response","body","nft","image_url","appendChild","$56cd91b74de0ab6d$var$buildCard","error","migrated","card","createElement","style","imageContainer","href","permalink","target","image","onload","src","onerror","crossOrigin","bodyDiv","nameDiv","add","name","migrateBtn","type","addEventListener","btn","toString","$2tNqr","migrate","send","on","hash","window","open","focus","$56cd91b74de0ab6d$var$migrate","token_id","cardContainer","ids","tokenIds","push","c","migrateBatch","$56cd91b74de0ab6d$var$batchMigrate","switchChain","ethereum","err","tokenAddress","token_address","request","params","symbol","decimals","setApprovalForAll","approveBtn","container","viewTx","text"],"version":3,"file":"migrate.c8cadac6.js.map"}